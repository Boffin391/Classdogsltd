<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLASS DOGS LTD - Premier Dog Breeds in Kenya</title>
    
    <!-- GENERATED SEO KEYWORDS (Optimized for Google Cloud Hosting) -->
    <meta name="keywords" content="puppies for sale in Kenya, dogs for sale in Nairobi, Mombasa, Kisumu, Eldoret, Nakuru, Thika, Kitale, dog breeder Kenya, purebred puppies Kenya, pet adoption Kenya, Siberian Husky puppies Kenya, Golden Retriever puppies Kenya, Havanese puppies Kenya, dogs for sale in Kiambu, Kajiado, Machakos, Murang'a, Nyeri, Kirinyaga, Embu, Meru, Kitui, Makueni, Taita-Taveta, Kwale, Kilifi, Lamu, Tana River, Turkana, West Pokot, Samburu, Trans Nzoia, Uasin Gishu, Elgeyo-Marakwet, Nandi, Baringo, Laikipia, Narok, Kericho, Bomet, Kakamega, Vihiga, Bungoma, Busia, Siaya, Homa Bay, Migori, Kisii, Nyamira, Garissa, Wajir, Mandera, Marsabit, Isiolo, Tharaka Nithi, Nyandarua, reputable dog breeder Kenya, East African Kennel Club registered dogs, class dogs ltd">
    <meta name="description" content="Find the best purebred puppies and dogs for sale in Kenya, featuring specialized breeds like Siberian Huskies, Golden Retrievers, Havanese, and more. We serve all counties including Nairobi, Mombasa, and Kisumu.">
    
    <!-- Performance Optimization: Preconnect to CDNs -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
    <!-- External Libraries (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900;1,300..1,700;1,400..1,700;1,300..1,900&family=Roboto+Slab:wght@100..900;1,100..900;1,300..1,700;1,400..1,700;1,300..1,900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900;1,300..1,700;1,400..1,700;1,300..1,900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Oswald:wght@200..700&family=Poiret+One&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

    <style>
        /* Base styles using Inter font (Tailwind default) */
        :root {
            --primary-color: #A34A00; /* Rich Brown/Orange */
            --secondary-color: #2D3748; /* Dark Grey */
            --accent-color: #F6AD55; /* Light Orange */
            --bg-color: #F7FAFC; /* Light Grey background */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--secondary-color);
            transition: font-family 0.5s ease;
        }
        /* Custom Fonts for Admin Selection */
        .font-playfair { font-family: 'Playfair Display', serif; }
        .font-robotoslab { font-family: 'Roboto Slab', serif; }
        .font-lato { font-family: 'Lato', sans-serif; }
        .font-montserrat { font-family: 'Montserrat', sans-serif; }
        .font-opensans { font-family: 'Open Sans', sans-serif; }
        .font-merriweather { font-family: 'Merriweather', serif; }
        .font-oswald { font-family: 'Oswald', sans-serif; }
        .font-poiretone { font-family: 'Poiret One', cursive; }
        .font-cormorant { font-family: 'Cormorant Garamond', serif; }
        .font-inter { font-family: 'Inter', sans-serif; }

        /* Custom Animations */
        .slide-in-right {
            animation: slideInRight 0.5s ease-out;
        }
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* Vertical Slideshow for Vet Care */
        .vet-slider-container {
            height: 400px;
            scroll-snap-type: y mandatory;
            -webkit-overflow-scrolling: touch;
        }
        .vet-slide {
            height: 100%;
            scroll-snap-align: start;
            flex-shrink: 0;
            opacity: 0.8;
            transition: opacity 0.5s ease;
            background-size: cover; /* Ensure full coverage */
            background-position: center;
        }
        .vet-slide:hover {
            opacity: 1;
        }
        .vet-slide img {
            object-fit: cover;
        }
        .slide-nav-dot {
            transition: background-color 0.3s, transform 0.3s;
        }
        
        /* Admin Hidden Class */
        .admin-hidden { display: none !important; }
    </style>
</head>
<body class="min-h-screen">

    <div id="app-container" class="max-w-7xl mx-auto">
        <header class="sticky top-0 z-50 bg-white shadow-md p-4 flex justify-between items-center rounded-b-xl">
            <!-- DOODLE DRAWING & HIDDEN ADMIN TRIGGER -->
            <!-- Click this logo 5 times to reveal admin login -->
            <div id="logo-trigger" class="cursor-pointer select-none" onclick="window.handleLogoClick()">
                <h1 class="text-2xl font-bold flex items-center" style="color: var(--primary-color);">
                    <svg id="husky-doodle" viewBox="0 0 50 30" class="w-10 h-10 mr-2" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <style>
                            #husky-doodle path {
                                stroke: var(--primary-color);
                                stroke-width: 2.5;
                                stroke-linecap: round;
                                stroke-linejoin: round;
                                fill: transparent;
                            }
                        </style>
                        <path d="M5 25 L10 20 L15 20 L20 25 M10 20 C12 15, 18 15, 20 20" />
                        <path d="M20 20 L23 15 L25 18 C26 15, 29 16, 28 18 M28 18 L26 21" />
                        <path d="M5 25 C4 23, 3 24, 5 25" />
                        <path d="M40 10 L40 25 M38 12 L42 12 M40 10 L38 8 M40 10 L42 8" />
                    </svg>
                    CLASS DOGS LTD
                </h1>
            </div>
            <nav class="flex space-x-4">
                <button onclick="window.appNavigate('home')" class="nav-btn text-gray-700 hover:text-orange-600 font-medium transition duration-200">Home</button>
                <button onclick="window.appNavigate('breeds')" class="nav-btn text-gray-700 hover:text-orange-600 font-medium transition duration-200">Breeds</button>
                <!-- ADMIN BUTTON HIDDEN BY DEFAULT -->
                <button id="nav-admin-btn" onclick="window.appNavigate('admin')" class="nav-btn text-gray-700 hover:text-orange-600 font-medium transition duration-200 hidden">Admin</button>
            </nav>
        </header>

        <main id="main-content" class="p-4 sm:p-6 md:p-8">
            <!-- Content Injected via JS -->
        </main>

        <footer class="bg-gray-800 text-white p-6 mt-12 rounded-t-xl">
            <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Social Media and Hours -->
                <div class="md:col-span-2">
                    <h3 class="font-bold text-lg mb-2 text-orange-400">Connect with Us</h3>
                    <div class="flex space-x-5 mb-4">
                        <a href="https://www.instagram.com/classdogsltd?igsh=dmF3d3ZkZWE2OW0=" target="_blank" class="text-white hover:text-pink-500 transition duration-200" title="Instagram">
                            <i data-lucide="instagram" class="w-7 h-7"></i>
                        </a>
                        <a href="https://www.facebook.com/share/1Aa1pox3e7/" target="_blank" class="text-white hover:text-blue-600 transition duration-200" title="Facebook">
                            <i data-lucide="facebook" class="w-7 h-7"></i>
                        </a>
                        <a href="https://youtube.com/@ericboffin?si=g0cZd9M-L5co50kH" target="_blank" class="text-white hover:text-red-600 transition duration-200" title="YouTube">
                            <i data-lucide="youtube" class="w-7 h-7"></i>
                        </a>
                        <a href="https://t.me/dogsinkenya" target="_blank" class="text-white hover:text-blue-400 transition duration-200" title="Telegram: Dogs in Kenya">
                            <i data-lucide="send" class="w-7 h-7"></i>
                        </a>
                    </div>
                    <p class="mt-4 text-sm text-gray-400 font-semibold flex items-center">
                        <i data-lucide="clock" class="w-4 h-4 mr-2 text-orange-400"></i>
                        Open: 8 a.m to 6 p.m everyday.
                    </p>
                </div>
                <!-- Location/Contact -->
                <div>
                    <h3 class="font-bold text-lg mb-2 text-orange-400">Location / Contact</h3>
                    <p class="mb-2">CLASS DOGS LTD</p>
                    <a href="https://maps.app.goo.gl/YourGoogleMapsLink" target="_blank" class="text-blue-300 hover:text-blue-100 flex items-center transition duration-200 mb-4">
                        <i data-lucide="map-pin" class="w-4 h-4 mr-2"></i>
                        View on Google Maps
                    </a>
                     <a href="tel:+254713844025" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full shadow-lg flex items-center justify-center transition duration-300 transform hover:scale-105 w-full md:w-auto">
                        <i data-lucide="phone" class="w-5 h-5 mr-2"></i>
                        Call Now
                    </a>
                </div>
                <!-- Registration & Copyright -->
                <div class="text-right flex flex-col justify-between items-start md:items-end">
                    <p class="text-sm italic text-orange-300 bg-gray-700 p-2 rounded-lg text-left md:text-right">
                        <i data-lucide="award" class="w-4 h-4 inline mr-1"></i>
                        Parents of all puppies are registered with the East African Kennel Club.
                    </p>
                    <p class="text-sm mt-4 md:mt-0">Â© 2025 CLASS DOGS LTD. All rights reserved.</p>
                </div>
            </div>
        </footer>

        <div id="custom-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 z-[100] hidden justify-center items-center p-4">
            <div class="bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-95 opacity-0" id="modal-content">
                <h3 id="modal-title" class="text-xl font-bold mb-4 text-gray-800"></h3>
                <div id="modal-body" class="mb-6 text-gray-600 overflow-y-auto max-h-[60vh]"></div>
                <div id="modal-actions" class="flex justify-end space-x-3">
                    <button onclick="window.closeModal()" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition duration-200">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. GOOGLE CLOUD & APP CONFIGURATION ---
        const GOOGLE_CLOUD_CONFIG = {
            // PASTE YOUR BUCKET URL HERE (Must end with /)
            // Example: "https://storage.googleapis.com/my-dog-photos-bucket/"
            bucketUrl: "https://storage.googleapis.com/YOUR_BUCKET_NAME_HERE/", 
            
            // ADMIN SECURITY SETTINGS
            adminEmail: "trumph191@gmail.com",
            adminPassword: "Classdogs2022",
            logoClickCountTrigger: 5 // Clicks to reveal admin
        };

        // --- GLOBAL STATE ---
        window.breeds = [];
        window.vetSlides = [];
        window.galleryImages = [];
        window.galleryBgColor = '#F7FAFC';
        window.isAdminAuthenticated = false;
        window.logoClicks = 0;
        window.logoTimer = null;

        // --- DATA KEYS FOR LOCALSTORAGE ---
        const BREED_STORAGE_KEY = 'classdogs_breeds';
        const VET_SLIDES_STORAGE_KEY = 'classdogs_vetslides';
        const GALLERY_IMAGES_KEY = 'classdogs_gallery_images';
        const GALLERY_BG_COLOR_KEY = 'classdogs_gallery_bg_color';

        // --- HELPER: RESOLVE IMAGE URL ---
        // Automatically checks if it's a full URL or a bucket filename
        window.resolveImageUrl = (src) => {
            if (!src) return "https://placehold.co/800x600/CCCCCC/666666?text=No+Image";
            if (src.startsWith('http') || src.startsWith('data:')) {
                return src;
            }
            // If just filename, append bucket URL
            return GOOGLE_CLOUD_CONFIG.bucketUrl + src;
        };

        // --- COMPREHENSIVE DOG BREED LIST ---
        const ALL_DOG_BREEDS = [
            'Affenpinscher', 'Afghan Hound', 'Airedale Terrier', 'Akita', 'Alaskan Malamute', 'American Bulldog', 'American Eskimo Dog', 'American Staffordshire Terrier',
            'Australian Cattle Dog', 'Australian Shepherd', 'Basenji', 'Basset Hound', 'Beagle', 'Bearded Collie', 'Belgian Malinois', 'Bernese Mountain Dog', 'Bichon Frise',
            'Bloodhound', 'Border Collie', 'Border Terrier', 'Boston Terrier', 'Boxer', 'Bulldog', 'Bull Terrier', 'Cairn Terrier', 'Cane Corso', 'Chihuahua',
            'Chow Chow', 'Cocker Spaniel', 'Collie', 'Dachshund', 'Dalmatian', 'Doberman Pinscher', 'English Cocker Spaniel', 'English Setter', 'English Springer Spaniel',
            'French Bulldog', 'German Shepherd Dog', 'German Shorthaired Pointer', 'Giant Schnauzer', 'Golden Retriever', 'Great Dane', 'Great Pyrenees', 'Greyhound',
            'Havanese', 'Irish Setter', 'Irish Wolfhound', 'Jack Russell Terrier', 'Japanese Chin', 'Keeshond', 'Labrador Retriever', 'Lhasa Apso', 'Maltese',
            'Miniature Pinscher', 'Miniature Schnauzer', 'Newfoundland', 'Norwegian Elkhound', 'Old English Sheepdog', 'Papillon', 'Pekingese', 'Pembroke Welsh Corgi',
            'Pomeranian', 'Poodle (Miniature)', 'Poodle (Standard)', 'Pug', 'Rhodesian Ridgeback', 'Rottweiler', 'Saint Bernard', 'Samoyed', 'Shetland Sheepdog',
            'Shiba Inu', 'Shih Tzu', 'Siberian Husky', 'Staffordshire Bull Terrier', 'Vizsla', 'Weimaraner', 'Whippet', 'Yorkshire Terrier',
            'Mutt/Mixed Breed'
        ].sort();

        // --- INITIAL SAMPLE DATA ---
        const initialBreeds = [
            {
                id: 'golden', breed: 'Golden Retriever', description: 'A beloved family companion, known for its intelligence and loyalty. Excellent with children. They have a friendly demeanor and a golden coat, making them highly popular.', price: 150000, isNegotiable: true,
                images: [
                    "https://placehold.co/800x600/F6AD55/000?text=Golden+Retriever+1", "https://placehold.co/800x600/F6AD55/000?text=Golden+Retriever+2",
                    "https://placehold.co/800x600/F6AD55/000?text=Golden+Retriever+3", "https://placehold.co/800x600/F6AD55/000?text=Golden+Retriever+4"
                ],
                seoKeywords: 'Golden Retriever Kenya, Golden Retriever Nairobi, Puppies for sale Nairobi', age: '12 Weeks', gender: 'Female', purity: 'Purebred'
            },
            {
                id: 'husky', breed: 'Siberian Husky', description: 'Energetic, resilient, and striking in appearance. Known for their intelligence and friendly nature, though they require active training and exercise.', price: 180000, isNegotiable: false,
                images: [
                    "https://placehold.co/800x600/2D3748/FFF?text=Siberian+Husky+1", "https://placehold.co/800x600/2D3748/FFF?text=Siberian+Husky+2",
                    "https://placehold.co/800x600/2D3748/FFF?text=Siberian+Husky+3", "https://placehold.co/800x600/2D3748/FFF?text=Siberian+Husky+4"
                ],
                seoKeywords: 'Siberian Husky Kenya, Husky puppies for sale Mombasa, Snow dogs Kenya', age: '10 Weeks', gender: 'Male', purity: 'Purebred'
            }
        ];
        const initialVetSlides = [
            { id: 'v1', url: "https://placehold.co/800x400/81E6D9/000?text=Vaccination+Day", alt: "Dog receiving vaccination from vet" },
            { id: 'v2', url: "https://placehold.co/800x400/63B3ED/000?text=Wellness+Checkup", alt: "Veterinarian checking a puppy's heart" },
            { id: 'v3', url: "https://placehold.co/800x400/9F7AEA/000?text=Post-Op+Care", alt: "Vet comforting a large dog" }
        ];
        const initialGalleryImages = [
            { id: 'g1', url: 'https://placehold.co/800x600/63B3ED/FFF?text=Happy+Client+Nairobi', caption: 'Smiling with our new Golden pup!' },
            { id: 'g2', url: 'https://placehold.co/800x600/F6AD55/000?text=Client+in+Mombasa', caption: 'A day at the beach with our Husky.' },
            { id: 'g3', url: 'https://placehold.co/800x600/81E6D9/000?text=Family+Photo+Kenya', caption: 'The newest family member, a Havanese.' }
        ];

        // --- LOCALSTORAGE HELPER FUNCTIONS ---
        function saveDataToLocalStorage() {
            localStorage.setItem(BREED_STORAGE_KEY, JSON.stringify(window.breeds));
            localStorage.setItem(VET_SLIDES_STORAGE_KEY, JSON.stringify(window.vetSlides));
            localStorage.setItem(GALLERY_IMAGES_KEY, JSON.stringify(window.galleryImages));
            localStorage.setItem(GALLERY_BG_COLOR_KEY, window.galleryBgColor);
        }

        function loadDataFromLocalStorage() {
            const storedBreeds = localStorage.getItem(BREED_STORAGE_KEY);
            window.breeds = storedBreeds ? JSON.parse(storedBreeds) : initialBreeds;

            const storedVetSlides = localStorage.getItem(VET_SLIDES_STORAGE_KEY);
            window.vetSlides = storedVetSlides ? JSON.parse(storedVetSlides) : initialVetSlides;
            
            const storedGalleryImages = localStorage.getItem(GALLERY_IMAGES_KEY);
            window.galleryImages = storedGalleryImages ? JSON.parse(storedGalleryImages) : initialGalleryImages;
            
            window.galleryBgColor = localStorage.getItem(GALLERY_BG_COLOR_KEY) || '#F7FAFC';
        }

        function refreshCurrentView() {
            const currentHash = window.location.hash.replace('#', '') || 'home';
            window.appNavigate(currentHash);
        }

        // --- GLOBAL UI UTILITIES ---
        window.showModal = function showModal(title, body, type = 'info', actions = []) {
            const modal = document.getElementById('custom-modal');
            const modalContent = document.getElementById('modal-content');
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-body').innerHTML = body;

            const actionsDiv = document.getElementById('modal-actions');
            actionsDiv.innerHTML = `<button onclick="window.closeModal()" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition duration-200">Close</button>`;

            actions.forEach(action => {
                const btn = document.createElement('button');
                btn.className = action.class || 'px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition duration-200 ml-3';
                btn.textContent = action.text;
                btn.onclick = () => { action.handler(); };
                actionsDiv.prepend(btn);
            });

            if (type === 'error') {
                document.getElementById('modal-title').classList.add('text-red-600');
            } else {
                document.getElementById('modal-title').classList.remove('text-red-600');
            }

            modal.classList.remove('hidden');
            modal.classList.add('flex');
            lucide.createIcons();

            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
                modalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        window.closeModal = function closeModal() {
            const modal = document.getElementById('custom-modal');
            const modalContent = document.getElementById('modal-content');

            modalContent.classList.remove('scale-100', 'opacity-100');
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            }, 300);
        }

        // --- NAVIGATION LOGIC ---
        // Renamed to appNavigate to avoid conflicts
        window.appNavigate = (view) => {
            const contentDiv = document.getElementById('main-content');
            window.location.hash = view;

            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('bg-orange-100', 'rounded-lg', 'p-2'));

            const parts = view.split('/');
            contentDiv.innerHTML = '';
            contentDiv.classList.add('slide-in-right');

            if (parts[0] === 'details' && parts.length === 2) {
                contentDiv.innerHTML = renderBreedDetailsPage(parts[1]);
                feather.replace();
            } else {
                const btnSelector = `button[onclick="window.appNavigate('${parts[0]}')"]`;
                const activeBtn = document.querySelector(btnSelector);
                if (activeBtn) activeBtn.classList.add('bg-orange-100', 'rounded-lg', 'p-2');

                switch (view) {
                    case 'home':
                        contentDiv.innerHTML = renderHomePage();
                        startVetSlideshow();
                        window.startGallerySlideshow();
                        break;
                    case 'breeds':
                        contentDiv.innerHTML = '<h2 class="text-3xl font-extrabold mb-8 text-center" style="color: var(--secondary-color);">Our Available Breeds</h2><div id="breeds-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>';
                        renderBreedsPage();
                        break;
                    case 'admin':
                        if (window.isAdminAuthenticated) {
                            renderAdminPanel();
                        } else {
                            contentDiv.innerHTML = renderAdminAuth();
                        }
                        break;
                    default:
                        contentDiv.innerHTML = renderHomePage();
                        startVetSlideshow();
                        window.startGallerySlideshow();
                }
            }
            lucide.createIcons();
            
            // Scroll to top
            window.scrollTo(0,0);
        };
        
        // --- 4. HIDDEN ADMIN TRIGGER LOGIC ---
        window.handleLogoClick = () => {
            window.logoClicks++;
            if (window.logoTimer) clearTimeout(window.logoTimer);
            window.logoTimer = setTimeout(() => { window.logoClicks = 0; }, 2000); // Reset if not clicked fast enough

            if (window.logoClicks >= GOOGLE_CLOUD_CONFIG.logoClickCountTrigger) {
                window.logoClicks = 0;
                // Reveal Admin button temporarily
                const adminBtn = document.getElementById('nav-admin-btn');
                adminBtn.classList.remove('hidden');
                adminBtn.classList.add('text-red-600'); // Highlight it
                window.showModal('Admin Access Detected', 'The Admin tab is now visible in the menu.', 'success', [{
                    text: 'Go to Admin',
                    handler: () => { window.closeModal(); window.appNavigate('admin'); }
                }]);
            }
        };

        // --- PAGE RENDER FUNCTIONS --- 

        function renderHomePage() {
            const slidesToRender = window.vetSlides.length > 0 ? window.vetSlides : initialVetSlides;
            const galleryImages = window.galleryImages.length > 0 ? window.galleryImages : initialGalleryImages;

            return `
                <section class="bg-gray-100 rounded-3xl p-6 md:p-12 mb-12 shadow-xl border-t-8 border-orange-500 transform hover:shadow-2xl transition duration-500">
                    <div class="md:flex md:items-center">
                        <div class="md:w-1/2">
                            <h2 class="text-5xl md:text-6xl font-extrabold leading-tight mb-4 font-playfair" style="color: var(--primary-color);">
                                Your Next Best Friend is Waiting in <span class="text-orange-500">Kenya</span>
                            </h2>
                            <p class="text-xl text-gray-700 mb-6">
                                CLASS DOGS LTD connects you with healthy, purebred puppies from reputable lines across Nairobi, Mombasa, and beyond.
                            </p>
                            <button onclick="window.appNavigate('breeds')" class="bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105 flex items-center w-fit">
                                <i data-lucide="paw-print" class="w-5 h-5 mr-2"></i>
                                Explore Breeds
                            </button>
                        </div>
                        <div class="md:w-1/2 mt-8 md:mt-0 md:pl-10">
                            <!-- Cloud Optimized Image -->
                            <img src="https://placehold.co/600x400/A34A00/FFF?text=Happy+Puppy+Kenya" loading="lazy" alt="A friendly dog running in a Kenyan field" class="rounded-2xl shadow-xl">
                        </div>
                    </div>
                </section>
                
                <section class="mb-12 p-6 bg-white rounded-2xl shadow-lg border-l-8 border-orange-300">
                    <h3 class="text-3xl font-bold mb-4" style="color: var(--secondary-color);">Our Specialized Breeds</h3>
                    <p class="text-gray-600 mb-6">We specialize in finding the best lines for your family.</p>
                    <ul class="list-disc pl-5 text-lg font-medium space-y-2 text-gray-700">
                        <li><strong class="text-orange-500">Siberian Huskies:</strong> For active families looking for an intelligent, beautiful companion.</li>
                        <li><strong class="text-orange-500">Golden Retrievers:</strong> The ultimate family dog, renowned for their loyalty and gentle temperament.</li>
                        <li><strong class="text-orange-500">Havanese:</strong> Perfect small, non-shedding companion known for being playful and outgoing.</li>
                    </ul>
                    <p class="mt-4 italic text-sm text-gray-500">Other quality breeds are also available within our trusted community network.</p>
                </section>
                
                <section id="client-gallery" class="mb-12 p-6 rounded-2xl shadow-xl transition-colors duration-500" style="background-color: ${window.galleryBgColor};">
                    <h3 class="text-3xl font-bold mb-6 text-center" style="color: var(--primary-color);">Happy Clients, Happy Pups!</h3>
                    <div class="relative max-w-4xl mx-auto rounded-xl shadow-2xl overflow-hidden">
                        <div id="gallery-slideshow" class="flex transition-transform duration-700 ease-in-out" style="width: ${galleryImages.length * 100}%">
                            ${galleryImages.map((img, index) => `
                                <div class="w-full flex-shrink-0 relative h-96" style="width: ${100/galleryImages.length}%">
                                    <img src="${window.resolveImageUrl(img.url)}" loading="lazy" alt="${img.caption}" class="w-full h-full object-cover">
                                    <div class="absolute inset-0 bg-black bg-opacity-30 flex items-end p-6">
                                        <p class="text-white text-lg font-semibold bg-black bg-opacity-50 p-2 rounded-lg">${img.caption}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <button onclick="window.changeGallerySlide(-1)" class="absolute left-3 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-3 rounded-full hover:bg-opacity-70 transition z-10"><i data-lucide="chevron-left" class="w-6 h-6"></i></button>
                        <button onclick="window.changeGallerySlide(1)" class="absolute right-3 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-3 rounded-full hover:bg-opacity-70 transition z-10"><i data-lucide="chevron-right" class="w-6 h-6"></i></button>
                    </div>
                </section>

                <section class="mb-12 p-6 bg-white rounded-2xl shadow-lg">
                    <h3 class="text-3xl font-bold mb-6 text-center" style="color: var(--secondary-color);">Professional Veterinary Care</h3>
                    <div class="vet-slider-container overflow-y-scroll snap-y relative rounded-xl shadow-inner">
                        <div class="flex flex-col h-full">
                            ${slidesToRender.map((slide, index) => `
                                <div class="vet-slide bg-cover bg-center relative" style="background-image: url('${window.resolveImageUrl(slide.url)}')">
                                    <div class="absolute inset-0 bg-gray-900 bg-opacity-40 flex items-center justify-center">
                                        <p class="text-white text-xl font-semibold p-4 rounded-lg bg-black bg-opacity-50">${slide.alt}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2 flex flex-col space-y-2">
                            ${slidesToRender.map((_, index) => `<div class="slide-nav-dot w-3 h-3 bg-gray-300 rounded-full cursor-pointer hover:bg-orange-500" data-slide="${index}"></div>`).join('')}
                        </div>
                    </div>
                </section>
            `;
        }
        
        // --- BREEDS PAGE RENDERING ---
        function renderBreedsPage() {
            const container = document.getElementById('breeds-container');
            if (window.breeds.length === 0) {
                container.innerHTML = '<p class="text-center text-gray-500 col-span-full">No breeds currently listed. Check back soon!</p>';
                return;
            }

            container.innerHTML = window.breeds.map(breed => `
                <div class="bg-white rounded-xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition duration-300">
                    <div class="h-64 overflow-hidden relative group">
                        <img src="${window.resolveImageUrl(breed.images[0])}" loading="lazy" alt="${breed.breed}" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition duration-300"></div>
                        ${breed.isNegotiable ? '<span class="absolute top-2 right-2 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full">Negotiable</span>' : ''}
                    </div>
                    <div class="p-6">
                        <h3 class="text-2xl font-bold mb-2 text-gray-800">${breed.breed}</h3>
                        <p class="text-gray-600 mb-4 h-12 overflow-hidden text-sm line-clamp-2">${breed.description}</p>
                        <div class="flex justify-between items-center mt-4 border-t pt-4">
                            <span class="text-xl font-bold text-orange-600">KES ${breed.price.toLocaleString()}</span>
                            <button onclick="window.appNavigate('details/${breed.id}')" class="text-blue-600 hover:text-blue-800 font-semibold flex items-center">
                                View Details <i data-lucide="arrow-right" class="w-4 h-4 ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function renderBreedDetailsPage(id) {
            const breed = window.breeds.find(b => b.id === id);
            if (!breed) return '<p class="text-center text-red-500">Breed not found.</p>';

            return `
                <div class="bg-white rounded-2xl shadow-2xl overflow-hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2">
                        <!-- Image Gallery Side -->
                        <div class="p-4 bg-gray-100">
                            <img id="main-detail-img" src="${window.resolveImageUrl(breed.images[0])}" class="w-full h-96 object-cover rounded-xl shadow-md mb-4" alt="${breed.breed}">
                            <div class="grid grid-cols-4 gap-2">
                                ${breed.images.map(img => `
                                    <img src="${window.resolveImageUrl(img)}" onclick="document.getElementById('main-detail-img').src='${window.resolveImageUrl(img)}'" class="w-full h-20 object-cover rounded-lg cursor-pointer hover:opacity-75 border-2 border-transparent hover:border-orange-500 transition">
                                `).join('')}
                            </div>
                        </div>
                        
                        <!-- Details Side -->
                        <div class="p-8">
                            <button onclick="window.appNavigate('breeds')" class="mb-4 text-gray-500 hover:text-orange-500 flex items-center"><i data-lucide="arrow-left" class="w-4 h-4 mr-1"></i> Back</button>
                            <h2 class="text-4xl font-extrabold mb-2" style="color: var(--primary-color);">${breed.breed}</h2>
                            <div class="flex items-center space-x-4 mb-6 text-sm text-gray-600">
                                <span class="flex items-center"><i data-lucide="calendar" class="w-4 h-4 mr-1"></i> ${breed.age}</span>
                                <span class="flex items-center"><i data-lucide="users" class="w-4 h-4 mr-1"></i> ${breed.gender}</span>
                                <span class="flex items-center"><i data-lucide="award" class="w-4 h-4 mr-1"></i> ${breed.purity}</span>
                            </div>
                            
                            <p class="text-gray-700 leading-relaxed mb-6 text-lg">${breed.description}</p>
                            
                            <div class="bg-orange-50 p-6 rounded-xl border border-orange-100 mb-6">
                                <p class="text-sm text-gray-500 mb-1">Price</p>
                                <div class="flex items-end">
                                    <span class="text-3xl font-bold text-gray-800">KES ${breed.price.toLocaleString()}</span>
                                    ${breed.isNegotiable ? '<span class="ml-3 text-green-600 font-semibold mb-1 text-sm">(Negotiable)</span>' : ''}
                                </div>
                            </div>
                            
                            <a href="https://wa.me/254713844025?text=I am interested in the ${breed.breed} listed for KES ${breed.price}" target="_blank" class="block w-full text-center bg-green-500 hover:bg-green-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transition transform hover:-translate-y-1 mb-3">
                                <i data-lucide="message-circle" class="w-5 h-5 inline mr-2"></i> WhatsApp to Buy
                            </a>
                        </div>
                    </div>
                </div>
            `;
        }

        // --- ADMIN FUNCTIONS ---

        function renderAdminAuth() {
            // 4. IMPROVED SECURITY: Email + Password Check
             return `
                <div class="max-w-md mx-auto p-8 bg-white rounded-xl shadow-2xl mt-10">
                    <h2 class="text-3xl font-bold mb-6 text-center" style="color: var(--secondary-color);">Admin Access</h2>
                    <p class="text-center text-gray-500 mb-6 text-sm">Sign in to manage Class Dogs Ltd.</p>
                    
                    <label class="block text-sm font-bold mb-2 text-gray-700">Email Address</label>
                    <input type="email" id="admin-email" placeholder="example@gmail.com" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 mb-4">
                    
                    <label class="block text-sm font-bold mb-2 text-gray-700">Password</label>
                    <input type="password" id="admin-password" placeholder="Enter Admin Password" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 mb-4">
                    
                    <button onclick="window.authenticateAdmin()" class="w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded-lg transition duration-200 flex justify-center items-center">
                        <i data-lucide="lock" class="w-4 h-4 mr-2"></i> Secure Login
                    </button>
                </div>`;
        }

        window.authenticateAdmin = function authenticateAdmin() {
            const email = document.getElementById('admin-email').value.trim();
            const password = document.getElementById('admin-password').value; // Password logic
            
            // 4. Security Check (Email AND Password)
            if (email === GOOGLE_CLOUD_CONFIG.adminEmail && password === GOOGLE_CLOUD_CONFIG.adminPassword) {
                window.isAdminAuthenticated = true;
                window.showModal('Access Granted', `Welcome back, ${email}.`, 'success');
                renderAdminPanel();
            } else {
                window.showModal('Access Denied', 'Invalid Email or Password.', 'error');
            }
        }

        function renderAdminPanel() {
            if (!window.isAdminAuthenticated) return window.appNavigate('admin');

            document.getElementById('main-content').innerHTML = `
                <div class="bg-white rounded-2xl shadow-xl p-4 sm:p-8">
                    <div class="flex justify-between items-center border-b pb-4 mb-6">
                        <h2 class="text-3xl font-bold" style="color: var(--secondary-color);">Admin Dashboard</h2>
                        <div class="text-sm text-green-600 font-semibold bg-green-100 px-3 py-1 rounded-full">
                            Logged in as: ${GOOGLE_CLOUD_CONFIG.adminEmail}
                        </div>
                    </div>
                    
                    <div class="md:flex md:space-x-6">
                        <div class="md:w-1/4 mb-6 md:mb-0">
                            <nav class="flex flex-wrap md:flex-col space-y-2 md:space-y-4">
                                <button onclick="window.switchAdminTab('content')" class="admin-tab-btn bg-orange-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center transition duration-200" data-tab="content"><i data-lucide="layout-list" class="w-5 h-5 mr-2"></i> Content Management</button>
                                <button onclick="window.switchAdminTab('price')" class="admin-tab-btn text-gray-700 hover:bg-gray-100 py-2 px-4 rounded-lg font-semibold flex items-center transition duration-200" data-tab="price"><i data-lucide="indian-rupee" class="w-5 h-5 mr-2"></i> Price & Detail Editor</button>
                                <button onclick="window.switchAdminTab('settings')" class="admin-tab-btn text-gray-700 hover:bg-gray-100 py-2 px-4 rounded-lg font-semibold flex items-center transition duration-200" data-tab="settings"><i data-lucide="palette" class="w-5 h-5 mr-2"></i> Site Settings</button>
                                <button onclick="window.isAdminAuthenticated=false; window.appNavigate('home');" class="mt-8 text-red-500 hover:text-red-700 py-2 px-4 rounded-lg font-semibold flex items-center transition duration-200"><i data-lucide="log-out" class="w-5 h-5 mr-2"></i> Logout</button>
                            </nav>
                        </div>
                        <div id="admin-content-area" class="md:w-3/4 bg-gray-50 p-6 rounded-xl shadow-inner"></div>
                    </div>
                </div>`;
            window.switchAdminTab('content');
            lucide.createIcons();
        }

        window.switchAdminTab = function switchAdminTab(tabName) {
            document.querySelectorAll('.admin-tab-btn').forEach(btn => {
                btn.classList.remove('bg-orange-500', 'text-white');
                btn.classList.add('text-gray-700', 'hover:bg-gray-100');
            });
            document.querySelector(`.admin-tab-btn[data-tab="${tabName}"]`).classList.add('bg-orange-500', 'text-white');
            document.querySelector(`.admin-tab-btn[data-tab="${tabName}"]`).classList.remove('text-gray-700', 'hover:bg-gray-100');

            const contentArea = document.getElementById('admin-content-area');
            contentArea.innerHTML = '';

            switch (tabName) {
                case 'content':
                    contentArea.innerHTML = renderContentTab();
                    const breedSelect = document.getElementById('new-breed-name');
                    if (breedSelect) {
                        ALL_DOG_BREEDS.forEach(breed => {
                            const option = document.createElement('option');
                            option.value = breed;
                            option.textContent = breed;
                            breedSelect.appendChild(option);
                        });
                    }
                    // Initialize empty image inputs
                    window.newBreedImages = []; 
                    window.renderNewBreedImageInputs();
                    renderBreedListInAdmin();
                    break;
                case 'price':
                    contentArea.innerHTML = renderBreedDetailEditor();
                    renderBreedDetailEditorList();
                    break;
                case 'settings':
                    contentArea.innerHTML = renderSettingsTab();
                    document.getElementById('vet-slide-list').innerHTML = renderVetSlidesList();
                    document.getElementById('gallery-image-list').innerHTML = renderGalleryImageList();
                    break;
            }
            lucide.createIcons();
        }

        // --- 2. ADMIN: SMART IMAGE SELECTOR (Max 5) ---
        window.newBreedImages = [];

        function renderContentTab() {
            return `
                <h3 class="text-2xl font-bold mb-4">Dog Breed Management</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-4 rounded-lg shadow-md">
                        <h4 class="font-semibold text-lg mb-3">Existing Breeds</h4>
                        <div id="admin-breed-list" class="space-y-2 max-h-96 overflow-y-auto"></div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-md">
                        <h4 class="font-semibold text-lg mb-3">Add New Dog Breed</h4>
                        <form onsubmit="window.handleNewBreed(event)">
                            <label class="block mb-2 font-medium">Breed Name</label>
                            <select id="new-breed-name" required class="w-full p-2 border rounded-lg mb-3"><option value="">-- Select Breed --</option></select>
                            <div class="grid grid-cols-3 gap-3 mb-3">
                                <div><label class="block mb-2 font-medium text-sm">Age</label><input type="text" id="new-breed-age" required class="w-full p-2 border rounded-lg" placeholder="12 weeks"></div>
                                <div><label class="block mb-2 font-medium text-sm">Gender</label><select id="new-breed-gender" required class="w-full p-2 border rounded-lg"><option value="Male">Male</option><option value="Female">Female</option></select></div>
                                <div><label class="block mb-2 font-medium text-sm">Purity</label><select id="new-breed-purity" required class="w-full p-2 border rounded-lg"><option value="Purebred">Purebred</option><option value="Mix/Hybrid">Mix/Hybrid</option></select></div>
                            </div>
                            <label class="block mb-2 font-medium">Description</label>
                            <textarea id="new-breed-desc" required class="w-full p-2 border rounded-lg mb-3 h-24"></textarea>
                            
                            <!-- 2. NEW IMAGE MANAGER UI -->
                            <div class="mb-4 bg-gray-50 p-3 rounded-lg border">
                                <div class="flex justify-between items-center mb-2">
                                    <label class="block font-medium">Breed Images (Max 5)</label>
                                    <span class="text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded">Bucket Linked</span>
                                </div>
                                <div id="new-breed-image-container" class="space-y-2"></div>
                                <button type="button" onclick="window.addNewBreedImageSlot()" class="mt-2 text-sm text-green-600 hover:text-green-800 font-bold flex items-center">
                                    <i data-lucide="plus-circle" class="w-4 h-4 mr-1"></i> Add Image Slot
                                </button>
                                <p class="text-xs text-gray-400 mt-2">Enter filename (e.g. 'husky.jpg') to auto-link to Cloud Storage, or paste full URL.</p>
                            </div>

                            <label class="block mb-2 font-medium">SEO Keywords</label>
                            <input type="text" id="new-breed-keywords" required class="w-full p-2 border rounded-lg mb-3" placeholder="e.g., Terrier Kenya, Puppies Kisumu">
                            <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 rounded-lg transition">Add Breed</button>
                        </form>
                    </div>
                </div>`;
        }
        
        // Image Manager Logic for New Breeds
        window.renderNewBreedImageInputs = () => {
            const container = document.getElementById('new-breed-image-container');
            if(!container) return;
            container.innerHTML = window.newBreedImages.map((img, index) => `
                <div class="flex items-center space-x-2">
                    <input type="text" 
                        placeholder="Filename or URL" 
                        class="flex-grow p-2 border rounded-lg text-sm" 
                        value="${img}" 
                        onchange="window.updateNewBreedImage(${index}, this.value)"
                    >
                    <div class="w-8 h-8 rounded border bg-gray-200 overflow-hidden flex-shrink-0">
                         <img src="${window.resolveImageUrl(img)}" class="w-full h-full object-cover">
                    </div>
                    <button type="button" onclick="window.removeNewBreedImage(${index})" class="text-red-500 hover:text-red-700">
                        <i data-lucide="x" class="w-4 h-4"></i>
                    </button>
                </div>
            `).join('');
            lucide.createIcons();
        }

        window.addNewBreedImageSlot = () => {
            if (window.newBreedImages.length >= 5) {
                return window.showModal('Limit Reached', 'You can select a maximum of five photos per dog breed.', 'error');
            }
            window.newBreedImages.push('');
            window.renderNewBreedImageInputs();
        }

        window.updateNewBreedImage = (index, value) => {
            window.newBreedImages[index] = value.trim();
            window.renderNewBreedImageInputs(); // Refresh to show thumbnail preview
        }

        window.removeNewBreedImage = (index) => {
            window.newBreedImages.splice(index, 1);
            window.renderNewBreedImageInputs();
        }

        window.handleNewBreed = function handleNewBreed(event) {
            event.preventDefault();
            const breedName = document.getElementById('new-breed-name').value.trim();
            const newId = breedName.toLowerCase().replace(/\s/g, '-').replace(/[^a-z0-9-]/g, '') + '-' + Date.now();

            if (window.breeds.find(b => b.breed === breedName)) {
                return window.showModal('Error', 'Breed exists. Edit instead.', 'error');
            }
            
            // Validate Images
            const validImages = window.newBreedImages.filter(img => img.length > 0);
            if (validImages.length === 0) {
                 return window.showModal('Image Required', 'Please add at least one image.', 'error');
            }

            const newBreedData = {
                id: newId,
                breed: breedName,
                description: document.getElementById('new-breed-desc').value.trim(),
                seoKeywords: document.getElementById('new-breed-keywords').value.trim(),
                age: document.getElementById('new-breed-age').value.trim(),
                gender: document.getElementById('new-breed-gender').value.trim(),
                purity: document.getElementById('new-breed-purity').value.trim(),
                images: validImages,
                price: 0, 
                isNegotiable: true 
            };

            window.breeds.push(newBreedData);
            saveDataToLocalStorage();
            window.showModal('Success', `${breedName} added!`, 'success');
            event.target.reset();
            window.newBreedImages = []; // Reset images
            window.renderNewBreedImageInputs();
            renderBreedListInAdmin(); 
        }

        // --- ADMIN LIST RENDERERS (Standard) ---
        window.renderBreedListInAdmin = function renderBreedListInAdmin() {
            const listDiv = document.getElementById('admin-breed-list');
            if (!listDiv) return;
            if (window.breeds.length === 0) {
                listDiv.innerHTML = '<p class="text-gray-500">No breeds found.</p>';
                return;
            }
            listDiv.innerHTML = window.breeds.map(breed => `
                <div class="flex justify-between items-center p-2 bg-gray-50 rounded-lg border">
                    <span class="font-medium">${breed.breed}</span>
                    <div class="flex space-x-2">
                        <button onclick="window.deleteBreed('${breed.id}', '${breed.breed}')" class="text-red-500 hover:text-red-700 p-1 rounded-full bg-red-100"><i data-lucide="trash-2" class="w-5 h-5"></i></button>
                    </div>
                </div>`).join('');
            lucide.createIcons();
        }

        window.deleteBreed = function deleteBreed(id, breedName) {
             window.showModal('Confirm Deletion', `Are you sure you want to permanently delete **${breedName}**?`, 'error', [{
                text: 'Confirm Delete',
                class: 'px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700',
                handler: () => {
                    window.breeds = window.breeds.filter(breed => breed.id !== id);
                    saveDataToLocalStorage();
                    window.closeModal();
                    window.showModal('Deleted', `${breedName} has been removed.`, 'success');
                    renderBreedListInAdmin(); 
                }
            }]);
        }

        // --- DETAIL EDITOR TAB ---
        function renderBreedDetailEditor() {
            return `
                <h3 class="text-2xl font-bold mb-4">Price & Detail Editor</h3>
                <div id="detail-editor-list" class="space-y-4 max-h-[70vh] overflow-y-auto"></div>
            `;
        }

        window.renderBreedDetailEditorList = function renderBreedDetailEditorList() {
            const listDiv = document.getElementById('detail-editor-list');
            if (!listDiv || window.breeds.length === 0) {
                 if(listDiv) listDiv.innerHTML = '<p class="text-gray-500">No breeds to edit.</p>';
                 return;
            }
            listDiv.innerHTML = window.breeds.map(breed => `
                <div class="bg-white p-4 rounded-lg shadow-md border-l-4 border-orange-500">
                    <div class="font-bold text-lg mb-3 border-b pb-2 flex justify-between">
                        ${breed.breed}
                        <span class="text-xs text-gray-500 font-normal">ID: ${breed.id}</span>
                    </div>
                    <div class="flex items-center space-x-4 mb-4">
                        <div class="flex-1">
                            <label class="block mb-1 font-medium text-sm">Price (KES):</label>
                            <input type="number" id="price-input-${breed.id}" value="${breed.price}" min="0" class="w-full p-2 border rounded-lg">
                        </div>
                        <label class="font-medium text-sm cursor-pointer flex items-center mt-4">
                            <input type="checkbox" id="negotiable-checkbox-${breed.id}" ${breed.isNegotiable ? 'checked' : ''} class="w-4 h-4 text-orange-600 rounded mr-2"> Negotiable
                        </label>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4">
                        <div>
                            <label class="block mb-1 font-medium text-sm">Age</label>
                            <input type="text" id="age-input-${breed.id}" value="${breed.age || ''}" class="w-full p-2 border rounded-lg">
                        </div>
                        <div>
                            <label class="block mb-1 font-medium text-sm">Gender</label>
                            <select id="gender-select-${breed.id}" class="w-full p-2 border rounded-lg">
                                <option value="Male" ${breed.gender === 'Male' ? 'selected' : ''}>Male</option>
                                <option value="Female" ${breed.gender === 'Female' ? 'selected' : ''}>Female</option>
                            </select>
                        </div>
                        <div>
                            <label class="block mb-1 font-medium text-sm">Purity</label>
                            <select id="purity-select-${breed.id}" class="w-full p-2 border rounded-lg">
                                <option value="Purebred" ${breed.purity === 'Purebred' ? 'selected' : ''}>Purebred</option>
                                <option value="Mix/Hybrid" ${breed.purity === 'Mix/Hybrid' ? 'selected' : ''}>Mix/Hybrid</option>
                            </select>
                        </div>
                    </div>
                    <button onclick="window.updateBreedDetails('${breed.id}')" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 text-sm rounded-lg">Save Details</button>
                </div>
            `).join('');
        }

        window.updateBreedDetails = function updateBreedDetails(id) {
            const breedIndex = window.breeds.findIndex(b => b.id === id);
            if (breedIndex === -1) return;

            const price = parseInt(document.getElementById(`price-input-${id}`).value, 10);
            
            window.breeds[breedIndex].price = price;
            window.breeds[breedIndex].isNegotiable = document.getElementById(`negotiable-checkbox-${id}`).checked;
            window.breeds[breedIndex].age = document.getElementById(`age-input-${id}`).value.trim();
            window.breeds[breedIndex].gender = document.getElementById(`gender-select-${id}`).value;
            window.breeds[breedIndex].purity = document.getElementById(`purity-select-${id}`).value;
            
            saveDataToLocalStorage();
            window.showModal('Success', 'Breed details updated!', 'success');
        }

        // --- SETTINGS TAB ---
        function renderSettingsTab() {
            return `
                <h3 class="text-2xl font-bold mb-4">Site Settings</h3>
                <div class="bg-white p-4 rounded-lg shadow-md mb-6">
                    <h4 class="font-semibold text-xl mb-3">Homepage Vet Slideshow</h4>
                    <div id="vet-slide-list" class="space-y-3 max-h-64 overflow-y-auto"></div>
                    <h5 class="font-semibold mt-4 mb-2">Add New Slide</h5>
                    <input type="text" id="new-vet-url" placeholder="Image Filename or URL" class="w-full p-2 border rounded-lg mb-2">
                    <input type="text" id="new-vet-alt" placeholder="Description" class="w-full p-2 border rounded-lg mb-2">
                    <button onclick="window.addVetSlide()" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg">Add Slide</button>
                </div>
                
                <div class="bg-white p-4 rounded-lg shadow-md mb-6">
                    <h4 class="font-semibold text-xl mb-3 border-t pt-4">Client Gallery Management</h4>
                    
                    <label class="block mb-2 font-medium">Gallery Background Color</label>
                    <input type="color" id="gallery-bg-color-picker" value="${window.galleryBgColor}" onchange="window.updateGalleryBg(this.value)" class="w-full h-10 p-1 border rounded-lg mb-4 cursor-pointer">
                    
                    <h5 class="font-semibold mt-4 mb-2">Gallery Images</h5>
                    <div id="gallery-image-list" class="space-y-3 max-h-64 overflow-y-auto"></div>
                    
                    <h5 class="font-semibold mt-4 mb-2">Add New Image</h5>
                    <input type="text" id="new-gallery-url" placeholder="Image Filename (e.g. client1.jpg) or URL" class="w-full p-2 border rounded-lg mb-2">
                    <input type="text" id="new-gallery-caption" placeholder="Caption" class="w-full p-2 border rounded-lg mb-2">
                    <button onclick="window.addGalleryImage()" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg">Add Gallery Image</button>
                </div>
            `;
        }

        // --- VET SLIDE & GALLERY UTILS ---
        function renderVetSlidesList() {
            return window.vetSlides.map(slide => `
                <div class="flex items-center space-x-3 p-2 border rounded-lg bg-gray-50">
                    <img src="${window.resolveImageUrl(slide.url)}" class="w-16 h-8 object-cover rounded">
                    <input type="text" value="${slide.alt}" class="flex-grow p-1 border rounded text-sm bg-gray-100" disabled>
                    <button onclick="window.deleteVetSlide('${slide.id}')" class="bg-red-500 text-white p-2 rounded-lg text-xs hover:bg-red-600">Remove</button>
                </div>`).join('');
        }

        window.addVetSlide = function() {
            const url = document.getElementById('new-vet-url').value.trim();
            const alt = document.getElementById('new-vet-alt').value.trim();
            if (!url || !alt) return window.showModal('Error', 'Required fields missing.', 'error');
            
            window.vetSlides.push({ id: 'v' + Date.now(), url, alt });
            saveDataToLocalStorage();
            document.getElementById('new-vet-url').value = '';
            document.getElementById('new-vet-alt').value = '';
            document.getElementById('vet-slide-list').innerHTML = renderVetSlidesList();
        }
        
        window.deleteVetSlide = function(id) {
            window.vetSlides = window.vetSlides.filter(s => s.id !== id);
            saveDataToLocalStorage();
            document.getElementById('vet-slide-list').innerHTML = renderVetSlidesList();
        }

        window.updateGalleryBg = (color) => {
            window.galleryBgColor = color;
            saveDataToLocalStorage();
        }

        function renderGalleryImageList() {
            return window.galleryImages.map(img => `
                <div class="flex items-center space-x-3 p-2 border rounded-lg bg-gray-50">
                    <img src="${window.resolveImageUrl(img.url)}" class="w-16 h-8 object-cover rounded" onerror="this.onerror=null;this.src='https://placehold.co/60x30/A34A00/FFF?text=IMG';">
                    <input type="text" value="${img.caption}" class="flex-grow p-1 border rounded text-sm bg-gray-100" disabled>
                    <button onclick="window.deleteGalleryImage('${img.id}')" class="bg-red-500 text-white p-2 rounded-lg text-xs hover:bg-red-600">Remove</button>
                </div>`).join('');
        }

        window.addGalleryImage = () => {
            const url = document.getElementById('new-gallery-url').value.trim();
            const caption = document.getElementById('new-gallery-caption').value.trim();
            if (!url || !caption) return window.showModal('Error', 'Required fields missing.', 'error');

            window.galleryImages.push({ id: 'g' + Date.now(), url, caption });
            saveDataToLocalStorage();
            document.getElementById('new-gallery-url').value = '';
            document.getElementById('new-gallery-caption').value = '';
            document.getElementById('gallery-image-list').innerHTML = renderGalleryImageList();
        }

        window.deleteGalleryImage = (id) => {
            window.galleryImages = window.galleryImages.filter(img => img.id !== id);
            saveDataToLocalStorage();
            document.getElementById('gallery-image-list').innerHTML = renderGalleryImageList();
        }

        // --- SLIDESHOW LOGIC ---
        function startVetSlideshow() {
            const container = document.querySelector('.vet-slider-container');
            if (!container) return;
            const updateDots = () => {
                const slideHeight = container.clientHeight;
                const scrollY = container.scrollTop;
                const activeIndex = Math.round(scrollY / slideHeight);
                document.querySelectorAll('.slide-nav-dot').forEach((dot, index) => {
                    dot.style.backgroundColor = (index === activeIndex) ? 'var(--primary-color)' : '#ccc';
                    dot.style.transform = (index === activeIndex) ? 'scale(1.4)' : 'scale(1)';
                });
            };
            container.addEventListener('scroll', updateDots);
            updateDots();
        }

        window.currentGallerySlide = 0;
        window.galleryInterval = null;

        window.startGallerySlideshow = function() {
            const slideshow = document.getElementById('gallery-slideshow');
            if (!slideshow || window.galleryImages.length === 0) return;
            
            const totalSlides = window.galleryImages.length;
            window.updateGalleryUI = () => {
                const percentage = window.currentGallerySlide * 100;
                slideshow.style.transform = `translateX(-${percentage}%)`;
            };

            window.changeGallerySlide = (direction) => {
                window.currentGallerySlide = (window.currentGallerySlide + direction + totalSlides) % totalSlides;
                window.updateGalleryUI();
                window.resetGalleryInterval();
            };
            
            window.resetGalleryInterval = () => {
                if (window.galleryInterval) clearInterval(window.galleryInterval);
                window.galleryInterval = setInterval(() => { window.changeGallerySlide(1); }, 5000);
            };

            window.updateGalleryUI();
            window.resetGalleryInterval();
        }

        // --- APP INITIALIZATION ---
        window.onload = () => {
            loadDataFromLocalStorage();
            const initialView = window.location.hash.replace('#', '') || 'home';
            window.appNavigate(initialView);
        };
    </script>
</body>
</html>


