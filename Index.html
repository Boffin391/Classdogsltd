<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLASS DOGS LTD - Premier Dog Breeds in Kenya</title>
    
    <meta name="keywords" content="puppies for sale in Kenya, dogs for sale in Nairobi, Mombasa, Kisumu, Eldoret, Nakuru, Thika, Kitale, dog breeder Kenya, purebred puppies Kenya, pet adoption Kenya, Siberian Husky puppies Kenya, Golden Retriever puppies Kenya, Havanese puppies Kenya, dogs for sale in Kiambu, Kajiado, Machakos, Murang'a, Nyeri, Kirinyaga, Embu, Meru, Kitui, Makueni, Taita-Taveta, Kwale, Kilifi, Lamu, Tana River, Turkana, West Pokot, Samburu, Trans Nzoia, Uasin Gishu, Elgeyo-Marakwet, Nandi, Baringo, Laikipia, Narok, Kericho, Bomet, Kakamega, Vihiga, Bungoma, Busia, Siaya, Homa Bay, Migori, Kisii, Nyamira, Garissa, Wajir, Mandera, Marsabit, Isiolo, Tharaka Nithi, Nyandarua, reputable dog breeder Kenya, East African Kennel Club registered dogs, class dogs ltd">
    <meta name="description" content="Find the best purebred puppies and dogs for sale in Kenya, featuring specialized breeds like Siberian Huskies, Golden Retrievers, Havanese, and more. We serve all counties including Nairobi, Mombasa, and Kisumu.">
    
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900;1,300..1,700;1,400..1,700;1,300..1,900&family=Roboto+Slab:wght@100..900;1,100..900;1,300..1,700;1,400..1,700;1,300..1,900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900;1,300..1,700;1,400..1,700;1,300..1,900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Oswald:wght@200..700&family=Poiret+One&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #A34A00; 
            --secondary-color: #2D3748; 
            --accent-color: #F6AD55; 
            --bg-color: #F7FAFC; 
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--secondary-color);
            transition: font-family 0.5s ease;
        }
        .slide-in-right { animation: slideInRight 0.5s ease-out; }
        @keyframes slideInRight { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
        .vet-slider-container { height: 400px; scroll-snap-type: y mandatory; -webkit-overflow-scrolling: touch; }
        .vet-slide { height: 100%; scroll-snap-align: start; flex-shrink: 0; opacity: 0.8; transition: opacity 0.5s ease; background-size: cover; background-position: center; }
        .vet-slide:hover { opacity: 1; }
        .slide-nav-dot { transition: background-color 0.3s, transform 0.3s; }
    </style>
</head>
<body class="min-h-screen">

    <div id="app-container" class="max-w-7xl mx-auto">
        <header class="sticky top-0 z-50 bg-white shadow-md p-4 flex justify-between items-center rounded-b-xl">
            <div id="logo-trigger" class="cursor-pointer select-none" onclick="window.handleLogoClick()">
                <h1 class="text-2xl font-bold flex items-center" style="color: var(--primary-color);">
                    <svg id="husky-doodle" viewBox="0 0 50 30" class="w-10 h-10 mr-2" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <style>#husky-doodle path { stroke: var(--primary-color); stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; fill: transparent; }</style>
                        <path d="M5 25 L10 20 L15 20 L20 25 M10 20 C12 15, 18 15, 20 20" /><path d="M20 20 L23 15 L25 18 C26 15, 29 16, 28 18 M28 18 L26 21" /><path d="M5 25 C4 23, 3 24, 5 25" /><path d="M40 10 L40 25 M38 12 L42 12 M40 10 L38 8 M40 10 L42 8" />
                    </svg>
                    CLASS DOGS LTD
                </h1>
            </div>
            <nav class="flex space-x-4">
                <button onclick="window.appNavigate('home')" class="nav-btn text-gray-700 hover:text-orange-600 font-medium transition duration-200">Home</button>
                <button onclick="window.appNavigate('breeds')" class="nav-btn text-gray-700 hover:text-orange-600 font-medium transition duration-200">Breeds</button>
                <button id="nav-admin-btn" onclick="window.appNavigate('admin')" class="nav-btn text-gray-700 hover:text-orange-600 font-medium transition duration-200 hidden">Admin</button>
            </nav>
        </header>

        <main id="main-content" class="p-4 sm:p-6 md:p-8"></main>

        <footer class="bg-gray-800 text-white p-6 mt-12 rounded-t-xl">
            <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="md:col-span-2">
                    <h3 class="font-bold text-lg mb-2 text-orange-400">Connect with Us</h3>
                    <div class="flex space-x-5 mb-4">
                        <a href="https://www.instagram.com/classdogsltd?igsh=dmF3d3ZkZWE2OW0=" target="_blank" class="text-white hover:text-pink-500 transition duration-200"><i data-lucide="instagram" class="w-7 h-7"></i></a>
                        <a href="https://www.facebook.com/share/1Aa1pox3e7/" target="_blank" class="text-white hover:text-blue-600 transition duration-200"><i data-lucide="facebook" class="w-7 h-7"></i></a>
                        <a href="https://youtube.com/@ericboffin?si=g0cZd9M-L5co50kH" target="_blank" class="text-white hover:text-red-600 transition duration-200"><i data-lucide="youtube" class="w-7 h-7"></i></a>
                        <a href="https://t.me/dogsinkenya" target="_blank" class="text-white hover:text-blue-400 transition duration-200"><i data-lucide="send" class="w-7 h-7"></i></a>
                    </div>
                    <p class="mt-4 text-sm text-gray-400 font-semibold flex items-center"><i data-lucide="clock" class="w-4 h-4 mr-2 text-orange-400"></i>Open: 8 a.m to 6 p.m everyday.</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-2 text-orange-400">Location / Contact</h3>
                    <p class="mb-2">CLASS DOGS LTD</p>
                    <a href="https://maps.app.goo.gl/nWBxkvv73vMEtCjUA" target="_blank" class="text-blue-300 hover:text-blue-100 flex items-center transition duration-200 mb-4"><i data-lucide="map-pin" class="w-4 h-4 mr-2"></i>View on Google Maps</a>
                    <a href="tel:+254713844025" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full shadow-lg flex items-center justify-center transition duration-300 w-full md:w-auto"><i data-lucide="phone" class="w-5 h-5 mr-2"></i>Call Now</a>
                </div>
                <div class="text-right flex flex-col justify-between items-start md:items-end">
                    <p class="text-sm italic text-orange-300 bg-gray-700 p-2 rounded-lg"><i data-lucide="award" class="w-4 h-4 inline mr-1"></i>Parents are EAKC registered.</p>
                    <p class="text-sm mt-4 md:mt-0">Â© 2025 CLASS DOGS LTD. All rights reserved.</p>
                </div>
            </div>
        </footer>

        <div id="custom-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 z-[100] hidden justify-center items-center p-4">
            <div class="bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-95 opacity-0" id="modal-content">
                <h3 id="modal-title" class="text-xl font-bold mb-4 text-gray-800"></h3>
                <div id="modal-body" class="mb-6 text-gray-600 overflow-y-auto max-h-[60vh]"></div>
                <div id="modal-actions" class="flex justify-end space-x-3">
                    <button onclick="window.closeModal()" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. GOOGLE CLOUD CONFIGURATION ---
        const GOOGLE_CLOUD_CONFIG = {
            bucketUrl: "https://storage.googleapis.com/classdogs.com/", 
            imageSubfolder: "Imagegcs/",
            jsonUrl: "https://storage.googleapis.com/classdogs.com/breed.json",
            adminEmail: "trumph191@gmail.com",
            adminPassword: "Classdogs2022",
            logoClickCountTrigger: 5 
        };

        // --- GLOBAL STATE ---
        window.breeds = [];
        window.vetSlides = [];
        // UPDATED: Added provided images to gallery state
        window.galleryImages = [
            { url: "20251014_132439.jpg", caption: "Golden Moments in the Sun" },
            { url: "20251025_111824.jpg", caption: "Morning walks with our Goldies" },
            { url: "20251022_115839.jpg", caption: "Our majestic Siberian Husky" },
            { url: "20251116_131900.jpg", caption: "Newest members of the family" }
        ];
        window.galleryBgColor = '#F7FAFC';
        window.isAdminAuthenticated = false;
        window.logoClicks = 0;
        window.logoTimer = null;

        const BREED_STORAGE_KEY = 'classdogs_breeds';
        const VET_SLIDES_STORAGE_KEY = 'classdogs_vetslides';
        const GALLERY_IMAGES_KEY = 'classdogs_gallery_images';
        const GALLERY_BG_COLOR_KEY = 'classdogs_gallery_bg_color';

        // --- IMAGE RESOLVER ---
        window.resolveImageUrl = (src) => {
            if (!src) return "https://placehold.co/800x600/CCCCCC/666666?text=No+Image";
            if (src.startsWith('http') || src.startsWith('data:')) return src;
            return GOOGLE_CLOUD_CONFIG.bucketUrl + GOOGLE_CLOUD_CONFIG.imageSubfolder + src;
        };

        const ALL_DOG_BREEDS = ['Affenpinscher', 'Afghan Hound', 'Airedale Terrier', 'Akita', 'Alaskan Malamute', 'American Bulldog', 'Australian Cattle Dog', 'Australian Shepherd', 'Basenji', 'Basset Hound', 'Beagle', 'Belgian Malinois', 'Bernese Mountain Dog', 'Bichon Frise', 'Bloodhound', 'Border Collie', 'Boston Terrier', 'Boxer', 'Bulldog', 'Cane Corso', 'Chihuahua', 'Chow Chow', 'Cocker Spaniel', 'Collie', 'Dachshund', 'Dalmatian', 'Doberman Pinscher', 'French Bulldog', 'German Shepherd Dog', 'Golden Retriever', 'Great Dane', 'Havanese', 'Irish Setter', 'Jack Russell Terrier', 'Labrador Retriever', 'Maltese', 'Miniature Schnauzer', 'Newfoundland', 'Pomeranian', 'Poodle (Standard)', 'Pug', 'Rhodesian Ridgeback', 'Rottweiler', 'Saint Bernard', 'Samoyed', 'Shiba Inu', 'Shih Tzu', 'Siberian Husky', 'Vizsla', 'Yorkshire Terrier', 'Mutt/Mixed Breed'].sort();

        // --- SYNC FUNCTIONS ---
        async function loadDataFromCloud() {
            try {
                const response = await fetch(GOOGLE_CLOUD_CONFIG.jsonUrl, { cache: "no-store" });
                if (!response.ok) throw new Error("Cloud file not found");
                window.breeds = await response.json();
            } catch (error) {
                const stored = localStorage.getItem(BREED_STORAGE_KEY);
                window.breeds = stored ? JSON.parse(stored) : [];
            }
            window.vetSlides = JSON.parse(localStorage.getItem(VET_SLIDES_STORAGE_KEY)) || [];
            // Keep provided images as default if storage is empty
            const storedGallery = JSON.parse(localStorage.getItem(GALLERY_IMAGES_KEY));
            if(storedGallery && storedGallery.length > 0) window.galleryImages = storedGallery;
            
            window.galleryBgColor = localStorage.getItem(GALLERY_BG_COLOR_KEY) || '#F7FAFC';
            refreshCurrentView();
        }

        function saveDataToLocalStorage() {
            localStorage.setItem(BREED_STORAGE_KEY, JSON.stringify(window.breeds));
            localStorage.setItem(VET_SLIDES_STORAGE_KEY, JSON.stringify(window.vetSlides));
            localStorage.setItem(GALLERY_IMAGES_KEY, JSON.stringify(window.galleryImages));
            localStorage.setItem(GALLERY_BG_COLOR_KEY, window.galleryBgColor);
        }

        window.downloadBreedsJSON = function() {
            const dataStr = JSON.stringify(window.breeds, null, 4);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'breed.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            window.showModal('Export Ready', 'Upload this breed.json to your bucket root to update the live site.', 'success');
        };

        function refreshCurrentView() {
            const currentHash = window.location.hash.replace('#', '') || 'home';
            window.appNavigate(currentHash);
        }

        // --- MODAL & NAVIGATION ---
        window.showModal = function(title, body, type = 'info', actions = []) {
            const modal = document.getElementById('custom-modal');
            const modalContent = document.getElementById('modal-content');
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-body').innerHTML = body;
            const actionsDiv = document.getElementById('modal-actions');
            actionsDiv.innerHTML = `<button onclick="window.closeModal()" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">Close</button>`;
            actions.forEach(action => {
                const btn = document.createElement('button');
                btn.className = action.class || 'px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 ml-3';
                btn.textContent = action.text;
                btn.onclick = () => action.handler();
                actionsDiv.prepend(btn);
            });
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            lucide.createIcons();
            setTimeout(() => modalContent.classList.remove('scale-95', 'opacity-0'), 10);
        };

        window.closeModal = function() {
            const modal = document.getElementById('custom-modal');
            const modalContent = document.getElementById('modal-content');
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => { modal.classList.add('hidden'); modal.classList.remove('flex'); }, 300);
        };

        window.appNavigate = (view) => {
            const contentDiv = document.getElementById('main-content');
            window.location.hash = view;
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('bg-orange-100', 'rounded-lg', 'p-2'));
            const parts = view.split('/');
            contentDiv.innerHTML = '';
            contentDiv.classList.add('slide-in-right');

            if (parts[0] === 'details' && parts.length === 2) {
                contentDiv.innerHTML = renderBreedDetailsPage(parts[1]);
                feather.replace();
            } else {
                const btnSelector = `button[onclick="window.appNavigate('${parts[0]}')"]`;
                const activeBtn = document.querySelector(btnSelector);
                if (activeBtn) activeBtn.classList.add('bg-orange-100', 'rounded-lg', 'p-2');
                switch (parts[0]) {
                    case 'home': contentDiv.innerHTML = renderHomePage(); startVetSlideshow(); window.startGallerySlideshow(); break;
                    case 'breeds': contentDiv.innerHTML = '<h2 class="text-3xl font-extrabold mb-8 text-center" style="color: var(--secondary-color);">Our Available Breeds</h2><div id="breeds-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>'; renderBreedsPage(); break;
                    case 'admin': window.isAdminAuthenticated ? renderAdminPanel() : contentDiv.innerHTML = renderAdminAuth(); break;
                    default: contentDiv.innerHTML = renderHomePage(); startVetSlideshow(); window.startGallerySlideshow();
                }
            }
            lucide.createIcons();
            window.scrollTo(0,0);
        };

        window.handleLogoClick = () => {
            window.logoClicks++;
            if (window.logoTimer) clearTimeout(window.logoTimer);
            window.logoTimer = setTimeout(() => { window.logoClicks = 0; }, 2000);
            if (window.logoClicks >= GOOGLE_CLOUD_CONFIG.logoClickCountTrigger) {
                document.getElementById('nav-admin-btn').classList.remove('hidden');
                window.showModal('Admin Access Enabled', 'The Admin tab is now visible.', 'success');
            }
        };

        // --- RENDERERS ---
        function renderHomePage() {
            const slides = window.vetSlides;
            const gallery = window.galleryImages;
            return `
                <section class="bg-gray-100 rounded-3xl p-6 md:p-12 mb-12 shadow-xl border-t-8 border-orange-500 transform hover:shadow-2xl transition duration-500">
                    <div class="md:flex md:items-center">
                        <div class="md:w-1/2">
                            <h2 class="text-5xl md:text-6xl font-extrabold leading-tight mb-4 font-playfair" style="color: var(--primary-color);">Your Next Best Friend is Waiting for you here at <span class="text-orange-500">Classdogs</span></h2>
                            <p class="text-xl text-gray-700 mb-6">CLASS DOGS LTD connects you with healthy, purebred puppies from reputable lines.</p>
                            <button onclick="window.appNavigate('breeds')" class="bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105 flex items-center w-fit"><i data-lucide="paw-print" class="w-5 h-5 mr-2"></i>Explore Breeds</button>
                        </div>
                        <div class="md:w-1/2 mt-8 md:mt-0 md:pl-10"><img src="https://storage.googleapis.com/classdogs.com/Imagegcs/Siri.jpg" alt="Happy Dogs" class="rounded-2xl shadow-xl"></div>
                    </div>
                </section>
                <section id="client-gallery" class="mb-12 p-6 rounded-2xl shadow-xl transition-colors duration-500" style="background-color: ${window.galleryBgColor};">
                    <h3 class="text-3xl font-bold mb-6 text-center" style="color: var(--primary-color);">Happy Clients, Happy Pups!</h3>
                    <div class="relative max-w-4xl mx-auto rounded-xl shadow-2xl overflow-hidden">
                        <div id="gallery-slideshow" class="flex transition-transform duration-700 ease-in-out" style="width: ${gallery.length * 100}%">
                            ${gallery.map(img => `<div class="w-full flex-shrink-0 relative h-96" style="width: ${100/gallery.length}%"><img src="${window.resolveImageUrl(img.url)}" class="w-full h-full object-cover"><div class="absolute inset-0 bg-black bg-opacity-30 flex items-end p-6"><p class="text-white text-lg font-semibold bg-black bg-opacity-50 p-2 rounded-lg">${img.caption}</p></div></div>`).join('')}
                        </div>
                        <button onclick="window.changeGallerySlide(-1)" class="absolute left-3 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-3 rounded-full z-10"><i data-lucide="chevron-left" class="w-6 h-6"></i></button>
                        <button onclick="window.changeGallerySlide(1)" class="absolute right-3 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-3 rounded-full z-10"><i data-lucide="chevron-right" class="w-6 h-6"></i></button>
                    </div>
                </section>
                <section class="mb-12 p-6 bg-white rounded-2xl shadow-lg"><h3 class="text-3xl font-bold mb-6 text-center">Professional Veterinary Care</h3><div class="vet-slider-container overflow-y-scroll snap-y relative rounded-xl shadow-inner"><div class="flex flex-col h-full">${slides.map(slide => `<div class="vet-slide bg-cover bg-center relative" style="background-image: url('${window.resolveImageUrl(slide.url)}')"><div class="absolute inset-0 bg-gray-900 bg-opacity-40 flex items-center justify-center"><p class="text-white text-xl font-semibold p-4 rounded-lg bg-black bg-opacity-50">${slide.alt}</p></div></div>`).join('')}</div></div></section>
            `;
        }

        function renderBreedsPage() {
            const container = document.getElementById('breeds-container');
            if (window.breeds.length === 0) { container.innerHTML = '<p class="text-center text-gray-500 col-span-full">No breeds found. Check your cloud connection.</p>'; return; }
            container.innerHTML = window.breeds.map(breed => `
                <div class="bg-white rounded-xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition duration-300">
                    <div class="h-64 overflow-hidden relative group"><img src="${window.resolveImageUrl(breed.images[0])}" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">${breed.isNegotiable ? '<span class="absolute top-2 right-2 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full">Negotiable</span>' : ''}</div>
                    <div class="p-6">
                        <h3 class="text-2xl font-bold mb-2 text-gray-800">${breed.breed}</h3>
                        <p class="text-gray-600 mb-4 h-12 text-sm line-clamp-2">${breed.description}</p>
                        <div class="flex justify-between items-center mt-4 border-t pt-4"><span class="text-xl font-bold text-orange-600">KES ${breed.price.toLocaleString()}</span><button onclick="window.appNavigate('details/${breed.id}')" class="text-blue-600 font-semibold flex items-center">Details <i data-lucide="arrow-right" class="w-4 h-4 ml-1"></i></button></div>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function renderBreedDetailsPage(id) {
            const breed = window.breeds.find(b => b.id === id);
            if (!breed) return '<p class="text-center py-20">Breed not found.</p>';
            return `
                <div class="bg-white rounded-2xl shadow-2xl overflow-hidden md:flex">
                    <div class="md:w-1/2 p-4 bg-gray-100"><img id="main-detail-img" src="${window.resolveImageUrl(breed.images[0])}" class="w-full h-96 object-cover rounded-xl shadow-md mb-4"><div class="grid grid-cols-4 gap-2">${breed.images.map(img => `<img src="${window.resolveImageUrl(img)}" onclick="document.getElementById('main-detail-img').src='${window.resolveImageUrl(img)}'" class="w-full h-20 object-cover rounded-lg cursor-pointer hover:border-orange-500 border-2 border-transparent">`).join('')}</div></div>
                    <div class="md:w-1/2 p-8">
                        <button onclick="window.appNavigate('breeds')" class="mb-4 text-gray-500 flex items-center"><i data-lucide="arrow-left" class="w-4 h-4 mr-1"></i> Back</button>
                        <h2 class="text-4xl font-extrabold mb-2" style="color: var(--primary-color);">${breed.breed}</h2>
                        <div class="flex space-x-4 mb-6 text-sm text-gray-600"><span>${breed.age}</span><span>${breed.gender}</span><span>${breed.purity}</span></div>
                        <p class="text-gray-700 leading-relaxed mb-6">${breed.description}</p>
                        <div class="bg-orange-50 p-6 rounded-xl mb-6"><p class="text-sm text-gray-500 mb-1">Price</p><span class="text-3xl font-bold">KES ${breed.price.toLocaleString()}</span>${breed.isNegotiable ? '<span class="ml-2 text-green-600 text-sm">(Negotiable)</span>' : ''}</div>
                        <a href="https://wa.me/254713844025?text=Hi, I want to buy the ${breed.breed}" target="_blank" class="block w-full text-center bg-green-500 text-white font-bold py-4 rounded-xl shadow-lg">WhatsApp to Buy</a>
                    </div>
                </div>
            `;
        }

        // --- ADMIN HELPERS ---
        function renderAdminAuth() { return `<div class="max-w-md mx-auto p-8 bg-white rounded-xl shadow-2xl mt-10"><h2 class="text-3xl font-bold mb-6 text-center">Admin Login</h2><input type="email" id="admin-email" placeholder="Email" class="w-full p-3 border rounded-lg mb-4"><input type="password" id="admin-password" placeholder="Password" class="w-full p-3 border rounded-lg mb-4"><button onclick="window.authenticateAdmin()" class="w-full bg-orange-600 text-white font-bold py-3 rounded-lg">Secure Login</button></div>`; }
        window.authenticateAdmin = () => {
            if (document.getElementById('admin-email').value === GOOGLE_CLOUD_CONFIG.adminEmail && document.getElementById('admin-password').value === GOOGLE_CLOUD_CONFIG.adminPassword) {
                window.isAdminAuthenticated = true;
                renderAdminPanel();
            } else { window.showModal('Error', 'Invalid Credentials', 'error'); }
        };

        function renderAdminPanel() {
            document.getElementById('main-content').innerHTML = `
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold">Dashboard</h2>
                        <button onclick="window.downloadBreedsJSON()" class="bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center"><i data-lucide="download" class="w-4 h-4 mr-2"></i> Sync breed.json</button>
                    </div>
                    <div class="md:flex md:space-x-6">
                        <div class="md:w-1/4 flex md:flex-col space-x-2 md:space-x-0 md:space-y-2">
                            <button onclick="window.switchAdminTab('content')" class="admin-tab-btn py-2 px-4 rounded-lg text-left" data-tab="content">Breeds</button>
                            <button onclick="window.switchAdminTab('price')" class="admin-tab-btn py-2 px-4 rounded-lg text-left" data-tab="price">Prices</button>
                            <button onclick="window.switchAdminTab('settings')" class="admin-tab-btn py-2 px-4 rounded-lg text-left" data-tab="settings">Settings</button>
                        </div>
                        <div id="admin-content-area" class="md:w-3/4 bg-gray-50 p-6 rounded-xl"></div>
                    </div>
                </div>`;
            window.switchAdminTab('content');
            lucide.createIcons();
        }

        window.switchAdminTab = (tab) => {
            const area = document.getElementById('admin-content-area');
            document.querySelectorAll('.admin-tab-btn').forEach(b => b.classList.remove('bg-orange-500', 'text-white'));
            document.querySelector(`[data-tab="${tab}"]`).classList.add('bg-orange-500', 'text-white');
            if (tab === 'content') {
                // UPDATED: Added Gender and Multiple Image support
                area.innerHTML = `<div><h4 class="font-bold mb-4">Add Breed</h4>
                    <form onsubmit="window.handleNewBreed(event)">
                        <select id="new-breed-name" class="w-full p-2 mb-2 border rounded">${ALL_DOG_BREEDS.map(b => `<option>${b}</option>`).join('')}</select>
                        <select id="new-breed-gender" class="w-full p-2 mb-2 border rounded">
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                        <input type="text" id="new-breed-age" placeholder="Age (e.g. 2 months)" class="w-full p-2 mb-2 border rounded">
                        <textarea id="new-breed-desc" placeholder="Description" class="w-full p-2 mb-2 border rounded"></textarea>
                        <input type="text" id="new-breed-imgs" placeholder="Images (comma separated, max 8, e.g. dog1.jpg, dog2.jpg)" class="w-full p-2 mb-4 border rounded">
                        <button class="w-full bg-green-500 text-white py-2 rounded">Add Breed</button>
                    </form></div>`;
            } else if (tab === 'price') {
                area.innerHTML = window.breeds.map(b => `<div class="p-4 bg-white mb-2 rounded shadow flex justify-between items-center"><span>${b.breed}</span><input type="number" value="${b.price}" onchange="window.updatePrice('${b.id}', this.value)" class="w-32 p-1 border rounded"></div>`).join('');
            } else if (tab === 'settings') {
                area.innerHTML = `
                    <div class="p-4 bg-white rounded border-2 border-orange-200">
                        <h4 class="font-bold mb-2">Cloud Export</h4>
                        <p class="text-sm mb-4">Download the JSON file below, then upload it to your Google Cloud Bucket.</p>
                        <button onclick="window.downloadBreedsJSON()" class="bg-orange-600 text-white px-6 py-2 rounded">Download breed.json</button>
                    </div>`;
            }
        };

        window.handleNewBreed = (e) => {
            e.preventDefault();
            const imgInput = document.getElementById('new-breed-imgs').value;
            const imgArray = imgInput.split(',').map(s => s.trim()).filter(s => s !== "").slice(0, 8);
            
            const b = { 
                id: Date.now().toString(), 
                breed: document.getElementById('new-breed-name').value, 
                gender: document.getElementById('new-breed-gender').value,
                age: document.getElementById('new-breed-age').value, 
                description: document.getElementById('new-breed-desc').value, 
                images: imgArray.length > 0 ? imgArray : ["placeholder.jpg"], 
                price: 0, 
                isNegotiable: true,
                purity: "Purebred"
            };
            window.breeds.push(b);
            saveDataToLocalStorage();
            window.showModal('Success', 'Breed added locally. Remember to Sync to Cloud!', 'success');
        };

        window.updatePrice = (id, val) => {
            const idx = window.breeds.findIndex(b => b.id === id);
            window.breeds[idx].price = parseInt(val);
            saveDataToLocalStorage();
        };

        // --- SLIDESHOWS ---
        function startVetSlideshow() {
            const container = document.querySelector('.vet-slider-container');
            if (container) container.addEventListener('scroll', () => {}); 
        }

        window.startGallerySlideshow = () => {
            const slideshow = document.getElementById('gallery-slideshow');
            if (!slideshow || window.galleryImages.length === 0) return;
            let current = 0;
            window.changeGallerySlide = (dir) => {
                current = (current + dir + window.galleryImages.length) % window.galleryImages.length;
                slideshow.style.transform = `translateX(-${current * 100}%)`;
            };
            if(window.galleryInterval) clearInterval(window.galleryInterval);
            window.galleryInterval = setInterval(() => window.changeGallerySlide(1), 5000);
        };

        window.onload = loadDataFromCloud;
    </script>
</body>
</html>
